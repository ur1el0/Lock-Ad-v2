.map-page { font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif; background: #071022; color: #e6eef8; min-height: 100vh; }
body.light-mode { background: #f5f7fa !important; color: #1a202c !important; }

.top-bar { padding: 1rem 0; }
.profile-dot { width: 36px; height: 36px; background: linear-gradient(135deg,#ff7a00,#ff3d6b); border-radius: 50%; box-shadow: 0 6px 18px rgba(0,0,0,0.45); }
.main-content { padding-top: 1rem; padding-bottom: 2.5rem; }
.map-card { background: rgba(255,255,255,0.02); border-radius: 18px; overflow: hidden; margin-bottom: 1rem; border: 1px solid rgba(255,255,255,0.03); }
body.light-mode .map-card { background: rgba(0,0,0,0.02); border-color: rgba(0,0,0,0.05); }

.map-placeholder { height: 56vh; background: url('../assets/globe.jpg') center/cover no-repeat; display:flex; align-items:center; justify-content:center; color:rgba(255,255,255,0.9); font-weight:600; }
.info-card { background: #fff; border-radius: 14px; padding: 1rem; box-shadow: 0 8px 20px rgba(2,6,23,0.12); }
.info-row { display:flex; align-items:center; justify-content:space-between; gap: 1rem; }
.info-title { font-weight:700; color:#0b1220; }
.info-sub { font-size:0.9rem; color:#6b7280; }
.action-btn { background: linear-gradient(90deg,#ff7a00,#ff3d6b); border:none; padding:0.6rem 1.2rem; border-radius:10px; }

@media (min-width: 768px) 
{
  .map-placeholder { height: 62vh; }
  .main-content { max-width: 720px; margin: 0 auto; }
}

.map-controls { padding: 1rem; display:flex; flex-direction:column; gap:0.75rem; }
.input-row { display:flex; gap:0.5rem; align-items:center; }
.control-input { flex:1; border-radius: 10px; padding: 0.6rem 0.9rem; }

.map-canvas { width:100%; height:56vh; border-radius:12px; overflow:hidden; position:relative; }
.leaflet-container { width:100%; height:100%; }
.map-overlay { position:absolute; left:1rem; top:1rem; z-index:3; }

.map-loading { color: rgba(255,255,255,0.6); font-size:0.95rem; }
.map-diagnostics { color: #e6eef8; background: rgba(0,0,0,0.28); border-radius:8px; padding:0.45rem; font-size:0.9rem; }
body.light-mode .map-diagnostics { background: rgba(0,0,0,0.08); color: #1a202c; }

.route-summary { margin-top:0.8rem; color:#fff; }
.route-summary .summary-inner { background: rgba(0,0,0,0.45); padding:0.6rem 0.9rem; border-radius:10px; display:inline-block; }
body.light-mode .route-summary .summary-inner { background: rgba(0,0,0,0.08); color: #1a202c; }

.route-summary .steps-count { margin-top:0.4rem; color:#9fb0c8; font-size:0.9rem; }
body.light-mode .route-summary .steps-count { color: #5f7a94; }

.safety-details { color:#e6eef8; background: rgba(0,0,0,0.28); border-radius:8px; padding:0.6rem; font-size:0.9rem; }
body.light-mode .safety-details { background: rgba(0,0,0,0.08); color: #1a202c; }

.safety-panel { display:flex; flex-direction:column; gap:0.5rem; }
.safety-panel > strong { color:#fff; margin-bottom:0.3rem; font-size:0.95rem; }
body.light-mode .safety-panel > strong { color: #1a202c; }

.safety-item { display:flex; align-items:center; justify-content:space-between; font-size:0.92rem; }
.safety-label { font-weight:600; color:#9fb0c8; }
body.light-mode .safety-label { color: #5f7a94; }

.safety-item span:last-child { color:#e6eef8; }
body.light-mode .safety-item span:last-child { color: #1a202c; }
.safety-item.safety-score { border-top:1px solid rgba(255,255,255,0.05); padding-top:0.4rem; margin-top:0.3rem; }
body.light-mode .safety-item.safety-score { border-top-color: rgba(0,0,0,0.1); }
.safety-item .badge { font-size:0.8rem; padding:0.3rem 0.6rem; }
body.light-mode .safety-item .badge { background: rgba(0,0,0,0.1) !important; color: #1a202c !important; }

.steps-list { margin-top:0.6rem; max-height: 220px; overflow:auto; padding:0.4rem; border-radius:8px; background: rgba(0,0,0,0.35); }
body.light-mode .steps-list { background: rgba(0,0,0,0.08); color: #1a202c; }

.step-item { padding:0.5rem; border-bottom: 1px solid rgba(255,255,255,0.04); color:#eef; font-size:0.95rem; display:flex; gap:8px; align-items:flex-start; }
body.light-mode .step-item { border-bottom-color: rgba(0,0,0,0.05); color: #1a202c; }

.step-item .step-index { font-weight:700; width:28px; height:28px; display:inline-flex; align-items:center; justify-content:center; background:rgba(255,255,255,0.06); border-radius:6px; }
body.light-mode .step-item .step-index { background: rgba(0,0,0,0.08); color: #1a202c; }

.step-item .step-text { flex:1; }
.step-item .step-meta { color:#cbd5e1; font-size:0.85rem; margin-left:8px; white-space:nowrap; }
body.light-mode .step-item .step-meta { color: #5f7a94; }

.map-legend { position: absolute; right: 12px; top: 12px; z-index: 550; background: rgba(0,0,0,0.22); color: #fff; padding: 6px 8px; border-radius: 8px; font-size: 0.85rem; display:flex; gap:8px; align-items:center; }
body.light-mode .map-legend { background: rgba(0,0,0,0.15); }

.legend-item { display:flex; align-items:center; gap:8px; }
.swatch { width:12px; height:12px; display:inline-block; border-radius:3px; box-shadow: 0 1px 2px rgba(0,0,0,0.3); }
.swatch.fastest { background: #ff7a00; }
.swatch.safe { background: #36b37e; }

.leaflet-popup-content-wrapper { background: rgba(6,8,12,0.95); color: #fff; border-radius: 8px; }
.leaflet-popup-content { font-size: 0.95rem; }

.loc-controls button { padding: 0.25rem 0.6rem; }
.loc-controls .text-muted { margin-left: 0.5rem; }

.logo-placeholder { width:40px; height:40px; border-radius:50%; background: linear-gradient(135deg,#ff7a00,#ff3d6b); display:inline-flex; align-items:center; justify-content:center; color:#fff; font-weight:700; box-shadow:0 6px 18px rgba(0,0,0,0.35); }

@media (min-width: 768px) 
{
  .map-canvas { height: 64vh; }
}